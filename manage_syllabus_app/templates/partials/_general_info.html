<div class="mb-5">
    <h3 class="section-title text-uppercase mb-3">{{ part.position }}. {{ part.name }}</h3>
    <table class="table table-bordered align-middle info-table">
        <tbody>
            {# 1. Tên môn học tiếng Việt (cố định, lấy từ syllabus.subject) #}
            <tr>
                <th scope="row">1. Tên môn học tiếng Việt/Course title in Vietnamese</th>
                <td>{{ syllabus.subject.name }}</td>
            </tr>
            {# Mã môn học đi kèm, không đánh số #}
            <tr>
                <th scope="row">Mã môn học/Course code</th>
                <td>{{ syllabus.subject.id }}</td>
            </tr>

            {% for sub_item in part.sub_sections %}
                {#
                  SỬA LẠI THEO CÁCH NÀY:
                  1. Dùng {% with %} để tạo biến tạm 'item_index'.
                  2. Bên trong khối này, gọi {% include %} như bình thường.
                #}
                {% with item_index = loop.index + 1 %}
                    {% include 'partials/subsections/_' + sub_item.type + '.html' %}
                {% endwith %}
            {% endfor %}
        </tbody>
    </table>
</div>